# Laboratorio - Analisis Estatico

**Nombres:** Juanita, Julia, Sebastian, Wilson


## Exercise 1: Embracing Continuous Delivery with Azure DevOps
### Task 1: Set up a pipeline that integrates with SonarCloud

1. In your new Azure DevOps project, go to Pipelines under the Pipelines tab, then click on Create Pipeline:
2. Choose one of the options (YAML OR CLASSIC):

### YAML Editor

1. We will not be using this feature today. In our case we want to analyze code in the git repo that we imported earlier, right in the same account as this pipeline. So, we select Azure Repos Git:
   ![image](https://user-images.githubusercontent.com/62759668/202875940-a0b3ca03-63e3-4b64-a9a5-b90ae6e5e74e.png)

2. On the next screen select the git repository that you imported earlier, SonarExamples:
   ![image](https://user-images.githubusercontent.com/62759668/202875948-f51c61dc-eb47-4eec-b4de-94063e9f0575.png)

3. Now select a YAML file template. We will be building and analyzing the .NET code in our example imported repository, so we will start by choosing the .NET Desktop YAML template:
   ![image](https://user-images.githubusercontent.com/62759668/202876003-cfdc0b49-d272-426c-8ba6-56d329d04976.png)
   
4. The YAML editor will open with the template YAML file. In order to configure it correctly you will need to adjust it (or replace it) so that it looks like the following example file:
   ```
   net-desktop-sonarcloud.yml
   ```
   we need to customize it to our needs:
   1. Modify the Build task, change the pointer to the solution **(add wildcards as our solution is not located in the root of the repo):
      ![image](https://user-images.githubusercontent.com/62759668/202876114-635b2139-4349-4c8a-b4a4-8ee0254df695.png)
   2. Modify the Prepare Sonarcloud task with your own information. Follow the information in Sonarcloud previous windows to:
      
      1. Setup a service connection
      2. Modify the task with the values provided on the Sonarcloud window guide. Use your service endpoint created and organization/project name and key values, not the default ones!! click Add after modifying those values.
         ![image](https://user-images.githubusercontent.com/62759668/202876465-ce69e86b-9d1f-4935-b92b-6c602440de3a.png) /
         When you are done making the changes to the file, click Save and Run:
         ![image](https://user-images.githubusercontent.com/62759668/202876514-3c32dee1-495a-4157-94da-4a31400f2882.png)
    **No funciono por aca, asi que elimine el .ym del pipeline**

### Classic Editor
1. To configure the pipeline using the classic editor, select Use the classic editor on the Where is your code? page:
2. Select Azure Repos Git, choose SonarExamples under Repository and master under Default branch…, then click Continue:
   ![image](https://user-images.githubusercontent.com/62759668/202876973-dbf84818-2074-495b-960d-533b5ac87689.png) /
   The SonarCloud extension installed earlier provides SonarCloud-enabled custom build templates for Maven, Gradle, .NET Core and .NET Desktop applications. The templates are based on the standard Azure DevOps templates but with additional analysis-specific tasks and some pre-configured settings.
3. Select the .NET Desktop with SonarCloud template.
   ![image](https://user-images.githubusercontent.com/62759668/202877001-2e71ea89-bf71-4729-a6af-4de2a274a422.png) /
   The template contains all of the necessary tasks and most of the required settings. However, You will need to provide a few additional settings.
4. Select Azure Pipelines in Agent pool, then choose vs2017-win2016 in Agent Specification: **vs2017-win2016 no estaba disponible**
   ![image](https://user-images.githubusercontent.com/62759668/202877111-3ac74c58-e30d-4ff6-b652-31022037e071.png)
5. Get the SonarCloud endpoint token from previous sonarcloud guide. This is a token generated by SonarCloud that identifies your account on that system and allows other services, in this case, Azure DevOps, to connect to that account. (token in “Add a new Sonarcloud Service Endpoint)
   ![image](https://user-images.githubusercontent.com/62759668/202877252-659bc271-fbfa-47f3-948f-97788c85279b.png)
6. Copy the token and in Azure DevOps pipeline > Prepare Analysis, Paste the endpoint token in to the field SonarCloud Token, give the endpoint a name and click Verify and save:
   ![image](https://user-images.githubusercontent.com/62759668/202877333-39376577-b729-47fe-8dc3-0623f05ee1e3.png)
7. If the token was correctly copied, Azure DevOps should connect with your SonarCloud account and you should be able to click on the Organization drop-down and see the organization you created earlier and choose it from the dropdown (in our case claudiasonarova-azdo-org), Now enter the key of the project that you created within that organization on SonarCloud (you can find it on the sonarcloud setup guide too):
   ![image](https://user-images.githubusercontent.com/62759668/202877376-2ae022ef-8b3e-4705-80c3-b69a198e1dbd.png)
8. [Optional] Enable the Publish Quality Gate Result step
This step is not required unless you want to use the pre-deployment gate along with Release Pipelines. If this step is enabled, a summary of the analysis results will appear on the Extensions tab of the Build Summary page. However, this will delay the completion of the build until the processing on SonarCloud has finished.
9. Save and queue the build. Once the build has completed you should see something like this:
   


   

